<div class="container" *ngIf="voteIsSelected">
  <h2>{{heading$ | async}}</h2>
  <mat-expansion-panel [disabled]="isDisabled$(registrationStatus$) | async">
    <mat-expansion-panel-header>
      <mat-panel-title>REGISTER</mat-panel-title>
      <mat-panel-description>{{getMessage$(registrationStatus$) | async}}</mat-panel-description>
    </mat-expansion-panel-header>
    <vv-registration-phase [contract]="getProperty$('address') | async"
                           [key]="getProperty$('key') | async">
    </vv-registration-phase>
  </mat-expansion-panel>

  <mat-expansion-panel [disabled]="isDisabled$(votingStatus$) | async">
    <mat-expansion-panel-header>
      <mat-panel-title>VOTE</mat-panel-title>
      <mat-panel-description>{{getMessage$(votingStatus$) | async}}</mat-panel-description>
    </mat-expansion-panel-header>
    <vv-voting-phase [contract]="getProperty$('address') | async"
                     [key]="getProperty$('key') | async"
                     [candidates]="getProperty$('candidates') | async"
                     [registration]="registration$$ | async">
    </vv-voting-phase>
  </mat-expansion-panel>

  <mat-expansion-panel [disabled]="isDisabled$(resultsStatus$) | async">
    <mat-expansion-panel-header>
      <mat-panel-title>RESULTS</mat-panel-title>
      <mat-panel-description>{{getMessage$(resultsStatus$) | async}}</mat-panel-description>
    </mat-expansion-panel-header>
    <vv-results [tally]="getProperty$('results') | async"></vv-results>
  </mat-expansion-panel>
</div>
